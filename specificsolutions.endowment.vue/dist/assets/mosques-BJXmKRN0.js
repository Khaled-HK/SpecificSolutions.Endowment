import{a$ as O,r,G as X,c as H,o as J,b as l,e as o,d as K,ac as n,t as d,V as $,aX as T}from"./index-gvY-qnCL.js";import{$ as s}from"./api-W9QyqjuE.js";import{b as y,V as q,d as x}from"./VCard-Ct6DmQBC.js";import{V as g}from"./VCardText-BPMIhvZk.js";import{V as Q}from"./VDataTable-BTsFKoST.js";import{V as A}from"./VForm-DWMjd7yE.js";import{V as m}from"./VTextField-DqVMTGw6.js";import{V as b}from"./VSelect-CpFPVP68.js";import{V as S}from"./VTextarea-CpxMUkZA.js";import{V as N}from"./VSpacer-vr0tZFL-.js";import{V as I}from"./VDialog-CDvXbwRv.js";import"./index-9rIf2CJL.js";import"./VAvatar-dK1yEop4.js";import"./VImg-B-4h_lZI.js";import"./VPagination-BY-0Xadj.js";import"./VCheckboxBtn-DY3rnop_.js";import"./VSelectionControl-Kt72W0Sf.js";import"./form-DFObj21W.js";import"./VChip-D2lPNNRF.js";import"./VSlideGroup-DBduUMpb.js";import"./VTable-DzFDQM2e.js";import"./filter-KMDChtoV.js";import"./VDivider-1ZFKA2eM.js";import"./forwardRefs-C-GTDzx5.js";/* empty css                   */import"./VCounter-DJjELMu8.js";import"./VField-354SCb06.js";import"./easing-CjukEv2V.js";import"./VInput-BBqA0ZW6.js";import"./VList-CA0qebUZ.js";import"./ssrBoot-DjVwFc_K.js";import"./dialog-transition-C-8-ziuk.js";import"./VMenu-BqYI_9ti.js";import"./VOverlay-DyT8Ol8d.js";import"./delay-COY5h7Ty.js";import"./lazy-CXTh8jhn.js";import"./scopeId-DdQjg0qY.js";/* empty css              */const Se=O({__name:"mosques",setup(W){const U=r([]),C=r(!1),p=r(!1),V=r(!1),v=r(!1),w=r(null),i=r({name:"",address:"",cityId:null,regionId:null,imamName:"",capacity:null,description:""}),u=r({id:null,name:"",address:"",cityId:null,regionId:null,imamName:"",capacity:null,description:""}),k=r([]),M=r([]),R=[{title:"ID",key:"id"},{title:"Name",key:"name"},{title:"Address",key:"address"},{title:"City",key:"cityName"},{title:"Region",key:"regionName"},{title:"Imam",key:"imamName"},{title:"Capacity",key:"capacity"},{title:"Actions",key:"actions",sortable:!1}],f=async()=>{C.value=!0;try{const t=await s("/Mosques");U.value=t}catch(t){console.error("Error loading mosques:",t)}finally{C.value=!1}},B=async()=>{try{const t=await s("/Cities");k.value=t}catch(t){console.error("Error loading cities:",t)}},z=async()=>{try{const t=await s("/Regions");M.value=t}catch(t){console.error("Error loading regions:",t)}},D=async()=>{try{await s("/Mosques",{method:"POST",body:i.value}),p.value=!1,G(),f()}catch(t){console.error("Error adding mosque:",t)}},E=async()=>{try{await s(`/Mosques/${u.value.id}`,{method:"PUT",body:u.value}),V.value=!1,f()}catch(t){console.error("Error updating mosque:",t)}},F=async()=>{try{await s(`/Mosques/${w.value.id}`,{method:"DELETE"}),v.value=!1,f()}catch(t){console.error("Error deleting mosque:",t)}},P=t=>{u.value={...t},V.value=!0},j=t=>{w.value=t,v.value=!0},G=()=>{i.value={name:"",address:"",cityId:null,regionId:null,imamName:"",capacity:null,description:""}};return X(()=>{f(),B(),z()}),(t,e)=>(J(),H("div",null,[l(q,null,{default:o(()=>[l(y,{class:"d-flex justify-space-between align-center"},{default:o(()=>[e[22]||(e[22]=K("span",null,"Mosques Management",-1)),l(n,{color:"primary",onClick:e[0]||(e[0]=a=>p.value=!0)},{default:o(()=>e[21]||(e[21]=[d(" Add Mosque ")])),_:1})]),_:1}),l(g,null,{default:o(()=>[l(Q,{headers:R,items:U.value,loading:C.value,class:"elevation-1"},{"item.actions":o(({item:a})=>[l(n,{icon:"",size:"small",color:"primary",onClick:L=>P(a)},{default:o(()=>[l($,null,{default:o(()=>e[23]||(e[23]=[d("mdi-pencil")])),_:1})]),_:2},1032,["onClick"]),l(n,{icon:"",size:"small",color:"error",onClick:L=>j(a)},{default:o(()=>[l($,null,{default:o(()=>e[24]||(e[24]=[d("mdi-delete")])),_:1})]),_:2},1032,["onClick"])]),_:1},8,["items","loading"])]),_:1})]),_:1}),l(I,{modelValue:p.value,"onUpdate:modelValue":e[9]||(e[9]=a=>p.value=a),"max-width":"600px"},{default:o(()=>[l(q,null,{default:o(()=>[l(y,null,{default:o(()=>e[25]||(e[25]=[d("Add New Mosque")])),_:1}),l(g,null,{default:o(()=>[l(A,{onSubmit:T(D,["prevent"])},{default:o(()=>[l(m,{modelValue:i.value.name,"onUpdate:modelValue":e[1]||(e[1]=a=>i.value.name=a),label:"Mosque Name",required:""},null,8,["modelValue"]),l(m,{modelValue:i.value.address,"onUpdate:modelValue":e[2]||(e[2]=a=>i.value.address=a),label:"Address",required:""},null,8,["modelValue"]),l(b,{modelValue:i.value.cityId,"onUpdate:modelValue":e[3]||(e[3]=a=>i.value.cityId=a),items:k.value,"item-title":"name","item-value":"id",label:"City",required:""},null,8,["modelValue","items"]),l(b,{modelValue:i.value.regionId,"onUpdate:modelValue":e[4]||(e[4]=a=>i.value.regionId=a),items:M.value,"item-title":"name","item-value":"id",label:"Region",required:""},null,8,["modelValue","items"]),l(m,{modelValue:i.value.imamName,"onUpdate:modelValue":e[5]||(e[5]=a=>i.value.imamName=a),label:"Imam Name"},null,8,["modelValue"]),l(m,{modelValue:i.value.capacity,"onUpdate:modelValue":e[6]||(e[6]=a=>i.value.capacity=a),label:"Capacity",type:"number"},null,8,["modelValue"]),l(S,{modelValue:i.value.description,"onUpdate:modelValue":e[7]||(e[7]=a=>i.value.description=a),label:"Description"},null,8,["modelValue"])]),_:1})]),_:1}),l(x,null,{default:o(()=>[l(N),l(n,{color:"blue darken-1",text:"",onClick:e[8]||(e[8]=a=>p.value=!1)},{default:o(()=>e[26]||(e[26]=[d(" Cancel ")])),_:1}),l(n,{color:"blue darken-1",text:"",onClick:D},{default:o(()=>e[27]||(e[27]=[d(" Save ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(I,{modelValue:V.value,"onUpdate:modelValue":e[18]||(e[18]=a=>V.value=a),"max-width":"600px"},{default:o(()=>[l(q,null,{default:o(()=>[l(y,null,{default:o(()=>e[28]||(e[28]=[d("Edit Mosque")])),_:1}),l(g,null,{default:o(()=>[l(A,{onSubmit:T(E,["prevent"])},{default:o(()=>[l(m,{modelValue:u.value.name,"onUpdate:modelValue":e[10]||(e[10]=a=>u.value.name=a),label:"Mosque Name",required:""},null,8,["modelValue"]),l(m,{modelValue:u.value.address,"onUpdate:modelValue":e[11]||(e[11]=a=>u.value.address=a),label:"Address",required:""},null,8,["modelValue"]),l(b,{modelValue:u.value.cityId,"onUpdate:modelValue":e[12]||(e[12]=a=>u.value.cityId=a),items:k.value,"item-title":"name","item-value":"id",label:"City",required:""},null,8,["modelValue","items"]),l(b,{modelValue:u.value.regionId,"onUpdate:modelValue":e[13]||(e[13]=a=>u.value.regionId=a),items:M.value,"item-title":"name","item-value":"id",label:"Region",required:""},null,8,["modelValue","items"]),l(m,{modelValue:u.value.imamName,"onUpdate:modelValue":e[14]||(e[14]=a=>u.value.imamName=a),label:"Imam Name"},null,8,["modelValue"]),l(m,{modelValue:u.value.capacity,"onUpdate:modelValue":e[15]||(e[15]=a=>u.value.capacity=a),label:"Capacity",type:"number"},null,8,["modelValue"]),l(S,{modelValue:u.value.description,"onUpdate:modelValue":e[16]||(e[16]=a=>u.value.description=a),label:"Description"},null,8,["modelValue"])]),_:1})]),_:1}),l(x,null,{default:o(()=>[l(N),l(n,{color:"blue darken-1",text:"",onClick:e[17]||(e[17]=a=>V.value=!1)},{default:o(()=>e[29]||(e[29]=[d(" Cancel ")])),_:1}),l(n,{color:"blue darken-1",text:"",onClick:E},{default:o(()=>e[30]||(e[30]=[d(" Update ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(I,{modelValue:v.value,"onUpdate:modelValue":e[20]||(e[20]=a=>v.value=a),"max-width":"400px"},{default:o(()=>[l(q,null,{default:o(()=>[l(y,null,{default:o(()=>e[31]||(e[31]=[d("Confirm Delete")])),_:1}),l(g,null,{default:o(()=>e[32]||(e[32]=[d(" Are you sure you want to delete this mosque? ")])),_:1}),l(x,null,{default:o(()=>[l(N),l(n,{color:"blue darken-1",text:"",onClick:e[19]||(e[19]=a=>v.value=!1)},{default:o(()=>e[33]||(e[33]=[d(" Cancel ")])),_:1}),l(n,{color:"red darken-1",text:"",onClick:F},{default:o(()=>e[34]||(e[34]=[d(" Delete ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}});export{Se as default};
