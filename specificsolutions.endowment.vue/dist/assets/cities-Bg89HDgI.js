import{a$ as j,r as n,G,c as L,o as O,b as l,e as t,d as X,ac as u,t as i,V as I,aX as N}from"./index-BuE38C1y.js";import{$ as f}from"./api-BLuOwrNr.js";import{b as V,V as y,d as b}from"./VCard-DjD7Wm-d.js";import{V as C}from"./VCardText-D50rUew-.js";import{V as H}from"./VDataTable-D5pAk6Gm.js";import{V as T}from"./VForm-0q1dKFVY.js";import{V as S}from"./VTextField-FYw1-8X-.js";import{V as A}from"./VSelect-BMIO_zli.js";import{V as R}from"./VTextarea-CX2PMNKr.js";import{V as x}from"./VSpacer-BBz6SbWe.js";import{V as w}from"./VDialog-HztuRr_d.js";import"./index-9rIf2CJL.js";import"./VAvatar-Cv9jMmb7.js";import"./VImg-CxYMAtXA.js";import"./VPagination-2jdf8Ajl.js";import"./VCheckboxBtn-pT2hvUM9.js";import"./VSelectionControl-BUXSNfNm.js";import"./form-N_KPw-ur.js";import"./VChip-BuxDc1y4.js";import"./VSlideGroup-rCDGxhYf.js";import"./VTable-BLFWeKIi.js";import"./filter-DHV3zArA.js";import"./VDivider-EpFQ10Up.js";import"./forwardRefs-C-GTDzx5.js";/* empty css                   */import"./VCounter-7fa7sXAZ.js";import"./VField-CfdnMwJj.js";import"./easing-CjukEv2V.js";import"./VInput-COF33xFY.js";import"./VList-BZjNZKvx.js";import"./ssrBoot-DV2Yvt0k.js";import"./dialog-transition-DcYYLC1S.js";import"./VMenu-BMmLJmdq.js";import"./VOverlay-7P0ZIyqr.js";import"./delay-BRBtVUCv.js";import"./lazy-gWHkx5pG.js";import"./scopeId-miZS0_T1.js";/* empty css              */const Ae=j({__name:"cities",setup(J){const D=n([]),g=n(!1),s=n(!1),m=n(!1),p=n(!1),E=n(null),d=n({name:"",regionId:null,description:""}),r=n({id:null,name:"",regionId:null,description:""}),k=n([]),q=[{title:"ID",key:"id"},{title:"Name",key:"name"},{title:"Region",key:"regionName"},{title:"Description",key:"description"},{title:"Actions",key:"actions",sortable:!1}],v=async()=>{g.value=!0;try{const a=await f("/Cities");D.value=a}catch(a){console.error("Error loading cities:",a)}finally{g.value=!1}},B=async()=>{try{const a=await f("/Regions");k.value=a}catch(a){console.error("Error loading regions:",a)}},U=async()=>{try{await f("/Cities",{method:"POST",body:d.value}),s.value=!1,P(),v()}catch(a){console.error("Error adding city:",a)}},$=async()=>{try{await f(`/Cities/${r.value.id}`,{method:"PUT",body:r.value}),m.value=!1,v()}catch(a){console.error("Error updating city:",a)}},M=async()=>{try{await f(`/Cities/${E.value.id}`,{method:"DELETE"}),p.value=!1,v()}catch(a){console.error("Error deleting city:",a)}},z=a=>{r.value={...a},m.value=!0},F=a=>{E.value=a,p.value=!0},P=()=>{d.value={name:"",regionId:null,description:""}};return G(()=>{v(),B()}),(a,e)=>(O(),L("div",null,[l(y,null,{default:t(()=>[l(V,{class:"d-flex justify-space-between align-center"},{default:t(()=>[e[14]||(e[14]=X("span",null,"Cities Management",-1)),l(u,{color:"primary",onClick:e[0]||(e[0]=o=>s.value=!0)},{default:t(()=>e[13]||(e[13]=[i(" Add City ")])),_:1})]),_:1}),l(C,null,{default:t(()=>[l(H,{headers:q,items:D.value,loading:g.value,class:"elevation-1"},{"item.actions":t(({item:o})=>[l(u,{icon:"",size:"small",color:"primary",onClick:c=>z(o)},{default:t(()=>[l(I,null,{default:t(()=>e[15]||(e[15]=[i("mdi-pencil")])),_:1})]),_:2},1032,["onClick"]),l(u,{icon:"",size:"small",color:"error",onClick:c=>F(o)},{default:t(()=>[l(I,null,{default:t(()=>e[16]||(e[16]=[i("mdi-delete")])),_:1})]),_:2},1032,["onClick"])]),_:1},8,["items","loading"])]),_:1})]),_:1}),l(w,{modelValue:s.value,"onUpdate:modelValue":e[5]||(e[5]=o=>s.value=o),"max-width":"600px"},{default:t(()=>[l(y,null,{default:t(()=>[l(V,null,{default:t(()=>e[17]||(e[17]=[i("Add New City")])),_:1}),l(C,null,{default:t(()=>[l(T,{onSubmit:N(U,["prevent"])},{default:t(()=>[l(S,{modelValue:d.value.name,"onUpdate:modelValue":e[1]||(e[1]=o=>d.value.name=o),label:"City Name",required:""},null,8,["modelValue"]),l(A,{modelValue:d.value.regionId,"onUpdate:modelValue":e[2]||(e[2]=o=>d.value.regionId=o),items:k.value,"item-title":"name","item-value":"id",label:"Region",required:""},null,8,["modelValue","items"]),l(R,{modelValue:d.value.description,"onUpdate:modelValue":e[3]||(e[3]=o=>d.value.description=o),label:"Description"},null,8,["modelValue"])]),_:1})]),_:1}),l(b,null,{default:t(()=>[l(x),l(u,{color:"blue darken-1",text:"",onClick:e[4]||(e[4]=o=>s.value=!1)},{default:t(()=>e[18]||(e[18]=[i(" Cancel ")])),_:1}),l(u,{color:"blue darken-1",text:"",onClick:U},{default:t(()=>e[19]||(e[19]=[i(" Save ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(w,{modelValue:m.value,"onUpdate:modelValue":e[10]||(e[10]=o=>m.value=o),"max-width":"600px"},{default:t(()=>[l(y,null,{default:t(()=>[l(V,null,{default:t(()=>e[20]||(e[20]=[i("Edit City")])),_:1}),l(C,null,{default:t(()=>[l(T,{onSubmit:N($,["prevent"])},{default:t(()=>[l(S,{modelValue:r.value.name,"onUpdate:modelValue":e[6]||(e[6]=o=>r.value.name=o),label:"City Name",required:""},null,8,["modelValue"]),l(A,{modelValue:r.value.regionId,"onUpdate:modelValue":e[7]||(e[7]=o=>r.value.regionId=o),items:k.value,"item-title":"name","item-value":"id",label:"Region",required:""},null,8,["modelValue","items"]),l(R,{modelValue:r.value.description,"onUpdate:modelValue":e[8]||(e[8]=o=>r.value.description=o),label:"Description"},null,8,["modelValue"])]),_:1})]),_:1}),l(b,null,{default:t(()=>[l(x),l(u,{color:"blue darken-1",text:"",onClick:e[9]||(e[9]=o=>m.value=!1)},{default:t(()=>e[21]||(e[21]=[i(" Cancel ")])),_:1}),l(u,{color:"blue darken-1",text:"",onClick:$},{default:t(()=>e[22]||(e[22]=[i(" Update ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(w,{modelValue:p.value,"onUpdate:modelValue":e[12]||(e[12]=o=>p.value=o),"max-width":"400px"},{default:t(()=>[l(y,null,{default:t(()=>[l(V,null,{default:t(()=>e[23]||(e[23]=[i("Confirm Delete")])),_:1}),l(C,null,{default:t(()=>e[24]||(e[24]=[i(" Are you sure you want to delete this city? ")])),_:1}),l(b,null,{default:t(()=>[l(x),l(u,{color:"blue darken-1",text:"",onClick:e[11]||(e[11]=o=>p.value=!1)},{default:t(()=>e[25]||(e[25]=[i(" Cancel ")])),_:1}),l(u,{color:"red darken-1",text:"",onClick:M},{default:t(()=>e[26]||(e[26]=[i(" Delete ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}});export{Ae as default};
