import{_ as K}from"./TablePagination-OqNQef66.js";import{_ as W}from"./MoreBtn-Cht3sFNE.js";import{_ as X}from"./AppTextField-47riXjQ5.js";import{_ as Y}from"./AppSelect-B46Bzz1M.js";import{u as Z}from"./useApi-BUUwW2Cx.js";import{c as ee}from"./createUrl-DPjsss8G.js";import{$ as te}from"./api-BsM9rBDA.js";import{V as E}from"./VCardText-DEmSXyVG.js";import{V as ae,a as oe}from"./VRow-_IA5gP-y.js";import{V as I}from"./VAvatar-ChAAZBis.js";import{r as p,b8 as le,P as $,a as L,c as _,m as i,o as r,b as a,e as o,F as R,h as ie,f as D,l as ne,d as n,v as se,t as s,V as k,aa as re,s as v,aP as b,p as ce}from"./index-B8v18vV9.js";import{V as F}from"./VDivider-DSPKupgM.js";import{V as P,b as pe}from"./VCard-CNRE25e-.js";import{V as de}from"./VDataTableServer-BGxPaqyf.js";import{V as ue}from"./VChip-O2d2z9kF.js";import{V as me}from"./VImg-CC9idbFW.js";import{V as ve}from"./VTooltip-Dz_fmf42.js";import"./VPagination-CXzoGOqg.js";import"./VMenu-yVuXb3wj.js";import"./VOverlay-XziznS_F.js";import"./easing-CjukEv2V.js";import"./delay-Gut2ep7o.js";import"./lazy-C7uzezzp.js";import"./scopeId-HP_yl1Lf.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-DYwFRJuV.js";import"./VList-DHTDlf99.js";import"./ssrBoot-DdFyWfM4.js";import"./form-CA0oDzwd.js";import"./VTextField-CECq9VRT.js";/* empty css                   */import"./VCounter-CIuax7qs.js";import"./VField-B3HFW9Jo.js";import"./VInput-C4rp4ag1.js";import"./VSelect-DPHqViyI.js";import"./VCheckboxBtn-CbUz6YjU.js";import"./VSelectionControl-DskdDz5w.js";import"./index-9rIf2CJL.js";/* empty css              */import"./VDataTable-3XgUkqKQ.js";import"./VTable-DlYdeBcP.js";import"./filter-UjvCdIvO.js";import"./VSlideGroup-B_7Hc5j3.js";const fe={key:0},_e={class:"d-flex flex-column"},be={class:"text-h4"},ye={class:"text-body-1 text-capitalize"},ge={class:"d-flex gap-4 align-center flex-wrap"},he={class:"d-flex align-center gap-2"},Ve={class:"d-flex align-center flex-wrap gap-4"},xe={class:"invoice-list-filter"},ke={class:"invoice-list-filter"},we={class:"mb-0"},Ie={class:"mb-0"},$e={class:"mb-0"},De={class:"d-flex align-center"},Pe={key:1},Be={class:"d-flex flex-column"},Ce={class:"text-sm text-medium-emphasis"},Se={key:1,class:"text-base text-high-emphasis"},Ue={key:1},kt={__name:"index",async setup(Ae){let g,B;const h=p(""),V=p(null),y=p([]),d=p(10),u=p(1),C=p(),S=p(),M=l=>{var t,m;C.value=(t=l.sortBy[0])==null?void 0:t.key,S.value=(m=l.sortBy[0])==null?void 0:m.order},x=p([{title:"Clients",value:24,icon:"tabler-user"},{title:"Invoices",value:165,icon:"tabler-file-invoice"},{title:"Paid",value:"$2.46k",icon:"tabler-checks"},{title:"Unpaid",value:"$876",icon:"tabler-circle-off"}]),j=[{title:"#",key:"id"},{title:"Status",key:"status",sortable:!1},{title:"Client",key:"client"},{title:"Total",key:"total"},{title:"Issued Date",key:"date"},{title:"Balance",key:"balance"},{title:"Actions",key:"actions",sortable:!1}],{data:U,execute:q}=([g,B]=le(()=>Z(ee("/apps/invoice",{query:{q:h,status:V,itemsPerPage:d,page:u,sortBy:C,orderBy:S}}))),g=await g,B(),g),A=$(()=>U.value.invoices),T=$(()=>U.value.totalInvoices),f=(l,t)=>l===t?{status:"Unpaid",chip:{color:"error"}}:l===0?{status:"Paid",chip:{color:"success"}}:{status:l,chip:{variant:"text"}},w=l=>l==="Partial Payment"?{variant:"warning",icon:"tabler-chart-pie-2"}:l==="Paid"?{variant:"success",icon:"tabler-check"}:l==="Downloaded"?{variant:"info",icon:"tabler-arrow-down"}:l==="Draft"?{variant:"primary",icon:"tabler-folder"}:l==="Sent"?{variant:"secondary",icon:"tabler-mail"}:l==="Past Due"?{variant:"error",icon:"tabler-help"}:{variant:"secondary",icon:"tabler-x"},O=$(()=>l=>[{title:"Download",value:"download",prependIcon:"tabler-download"},{title:"Edit",value:"edit",prependIcon:"tabler-pencil",to:{name:"apps-invoice-edit-id",params:{id:l}}},{title:"Duplicate",value:"duplicate",prependIcon:"tabler-layers-intersect"}]),Q=async l=>{await te(`/apps/invoice/${l}`,{method:"DELETE"});const t=y.value.findIndex(m=>m===l);t!==-1&&y.value.splice(t,1),q()};return(l,t)=>{const m=Y,G=X,z=L("RouterLink"),N=L("IconBtn"),H=W,J=K;return i(A)?(r(),_("section",fe,[a(P,{class:"mb-6"},{default:o(()=>[a(E,{class:"px-3"},{default:o(()=>[a(ae,null,{default:o(()=>[(r(!0),_(R,null,ie(i(x),(e,c)=>(r(),_(R,{key:c},[a(oe,{cols:"12",sm:"6",md:"3",class:"px-6"},{default:o(()=>[n("div",{class:se(["d-flex justify-space-between align-center",l.$vuetify.display.xs?c!==i(x).length-1?"border-b pb-4":"":l.$vuetify.display.sm&&c<i(x).length/2?"border-b pb-4":""])},[n("div",_e,[n("h4",be,s(e.value),1),n("span",ye,s(e.title),1)]),a(I,{variant:"tonal",rounded:"",size:"42"},{default:o(()=>[a(k,{icon:e.icon,size:"26",color:"high-emphasis"},null,8,["icon"])]),_:2},1024)],2)]),_:2},1024),(l.$vuetify.display.mdAndUp?c!==i(x).length-1:l.$vuetify.display.smAndUp&&c%2===0)?(r(),D(F,{key:0,vertical:"",inset:"",length:"60"})):ne("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),a(P,{id:"invoice-list"},{default:o(()=>[a(E,{class:"d-flex justify-space-between align-center flex-wrap gap-4"},{default:o(()=>[n("div",ge,[n("div",he,[t[7]||(t[7]=n("span",null,"Show",-1)),a(m,{"model-value":i(d),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=parseInt(e,10))},null,8,["model-value"])]),a(re,{"prepend-icon":"tabler-plus",to:{name:"apps-invoice-add"}},{default:o(()=>t[8]||(t[8]=[v(" Create invoice ")])),_:1})]),n("div",Ve,[n("div",xe,[a(G,{modelValue:i(h),"onUpdate:modelValue":t[1]||(t[1]=e=>b(h)?h.value=e:null),placeholder:"Search Invoice"},null,8,["modelValue"])]),n("div",ke,[a(m,{modelValue:i(V),"onUpdate:modelValue":t[2]||(t[2]=e=>b(V)?V.value=e:null),placeholder:"Invoice Status",clearable:"","clear-icon":"tabler-x","single-line":"",items:["Downloaded","Draft","Sent","Paid","Partial Payment","Past Due"]},null,8,["modelValue"])])])]),_:1}),a(F),a(de,{"model-value":i(y),"onUpdate:modelValue":t[4]||(t[4]=e=>b(y)?y.value=e:null),"items-per-page":i(d),"onUpdate:itemsPerPage":t[5]||(t[5]=e=>b(d)?d.value=e:null),page:i(u),"onUpdate:page":t[6]||(t[6]=e=>b(u)?u.value=e:null),"show-select":"","items-length":i(T),headers:j,items:i(A),"item-value":"id",class:"text-no-wrap","onUpdate:options":M},{"item.id":o(({item:e})=>[a(z,{to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:o(()=>[v(" #"+s(e.id),1)]),_:2},1032,["to"])]),"item.status":o(({item:e})=>[a(ve,null,{activator:o(({props:c})=>[a(I,ce({size:28},c,{color:w(e.invoiceStatus).variant,variant:"tonal"}),{default:o(()=>[a(k,{size:16,icon:w(e.invoiceStatus).icon},null,8,["icon"])]),_:2},1040,["color"])]),default:o(()=>[n("p",we,s(e.invoiceStatus),1),n("p",Ie," Balance: "+s(e.balance),1),n("p",$e," Due date: "+s(e.dueDate),1)]),_:2},1024)]),"item.client":o(({item:e})=>[n("div",De,[a(I,{size:"34",color:e.avatar.length?void 0:w(e.invoiceStatus).variant,variant:e.avatar.length?void 0:"tonal",class:"me-3"},{default:o(()=>[e.avatar.length?(r(),D(me,{key:0,src:e.avatar},null,8,["src"])):(r(),_("span",Pe,s(l.avatarText(e.client.name)),1))]),_:2},1032,["color","variant"]),n("div",Be,[a(z,{to:{name:"pages-user-profile-tab",params:{tab:"profile"}},class:"text-link font-weight-medium"},{default:o(()=>[v(s(e.client.name),1)]),_:2},1024),n("span",Ce,s(e.client.companyEmail),1)])])]),"item.total":o(({item:e})=>[v(" $"+s(e.total),1)]),"item.date":o(({item:e})=>[v(s(e.issuedDate),1)]),"item.balance":o(({item:e})=>[typeof f(e.balance,e.total).status=="string"?(r(),D(ue,{key:0,color:f(e.balance,e.total).chip.color,label:"",size:"x-small"},{default:o(()=>[v(s(f(e.balance,e.total).status),1)]),_:2},1032,["color"])):(r(),_("span",Se,s(Number(f(e.balance,e.total).status)>0?`$${f(e.balance,e.total).status}`:`-$${Math.abs(Number(f(e.balance,e.total).status))}`),1))]),"item.actions":o(({item:e})=>[a(N,{onClick:c=>Q(e.id)},{default:o(()=>[a(k,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),a(N,{to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:o(()=>[a(k,{icon:"tabler-eye"})]),_:2},1032,["to"]),a(H,{"menu-list":i(O)(e.id),"item-props":"",color:"undefined"},null,8,["menu-list"])]),bottom:o(()=>[a(J,{page:i(u),"onUpdate:page":t[3]||(t[3]=e=>b(u)?u.value=e:null),"items-per-page":i(d),"total-items":i(T)},null,8,["page","items-per-page","total-items"])]),_:1},8,["model-value","items-per-page","page","items-length","items"])]),_:1})])):(r(),_("section",Ue,[a(P,null,{default:o(()=>[a(pe,null,{default:o(()=>t[9]||(t[9]=[v("No Invoice Found")])),_:1})]),_:1})]))}}};export{kt as default};
