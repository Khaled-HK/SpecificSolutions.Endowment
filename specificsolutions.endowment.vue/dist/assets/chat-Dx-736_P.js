import{bk as at,a as R,c as b,l as A,m as t,o as d,d as s,b as e,e as r,V as p,x as S,f as V,v as g,ac as L,t as N,F as I,R as F,bp as ot,aR as w,J as K,h as O,K as W,r as U,bq as lt,bf as nt,w as it,aH as rt,br as X,aX as ct,aW as Q}from"./index-BuE38C1y.js";import{C as E}from"./vue3-perfect-scrollbar-iG5Cn54e.js";import{u as dt}from"./useApi-nlOt6o99.js";import{c as ut}from"./createUrl-CdZXj4-N.js";import{$ as Y}from"./api-BLuOwrNr.js";import{V as z}from"./VAvatar-Cv9jMmb7.js";import{V as T}from"./VImg-CxYMAtXA.js";import{V as B}from"./VBadge-BbLW8pzV.js";import{_ as mt}from"./AppTextField-hovEMyHP.js";import{f as ht,a as ft}from"./formatters-Dx_aSyzi.js";import{V as tt}from"./VDivider-EpFQ10Up.js";import{_ as pt}from"./AppTextarea-DCWGddMq.js";import{V as vt,a as bt}from"./VRadioGroup-Bzav9q0D.js";import{V as Z}from"./VSwitch-tgwC3rju.js";import{u as xt,a as gt,V as Ct}from"./VMain-D19-QiY1.js";import{V as q}from"./VNavigationDrawer-C7KSDf1q.js";import{V as yt}from"./VSpacer-BBz6SbWe.js";import{V as _t}from"./VForm-0q1dKFVY.js";import{V as $t}from"./VTextField-FYw1-8X-.js";import"./index-9rIf2CJL.js";import"./form-N_KPw-ur.js";import"./helpers-DK5QwNv0.js";import"./VTextarea-CX2PMNKr.js";/* empty css                   */import"./VCounter-7fa7sXAZ.js";import"./VField-CfdnMwJj.js";import"./easing-CjukEv2V.js";import"./VInput-COF33xFY.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelectionControl-BUXSNfNm.js";import"./ssrBoot-DV2Yvt0k.js";import"./delay-BRBtVUCv.js";import"./scopeId-miZS0_T1.js";/* empty css              */const P=()=>({resolveAvatarBadgeVariant:n=>n==="online"?"success":n==="busy"?"error":n==="away"?"warning":"secondary"}),D=at("chat",{state:()=>({contacts:[],chatsContacts:[],profileUser:void 0,activeChat:null}),actions:{async fetchChatsAndContacts(y){const{data:n,error:a}=await dt(ut("/apps/chat/chats-and-contacts",{query:{q:y}}));if(a.value)console.log(a.value);else{const{chatsContacts:m,contacts:v,profileUser:o}=n.value;this.chatsContacts=m,this.contacts=v,this.profileUser=o}},async getChat(y){const n=await Y(`/apps/chat/chats/${y}`);this.activeChat=n},async sendMsg(y){var h,i,l,f,_;const n=(h=this.profileUser)==null?void 0:h.id,a=await Y(`apps/chat/chats/${(i=this.activeChat)==null?void 0:i.contact.id}`,{method:"POST",body:{message:y,senderId:n}}),{msg:m,chat:v}=a;if(v!==void 0){const u=this.activeChat;this.chatsContacts.push({...u.contact,chat:{id:v.id,lastMessage:[],unseenMsgs:0,messages:[m]}}),this.activeChat&&(this.activeChat.chat={id:v.id,messages:[m],unseenMsgs:0,userId:(l=this.activeChat)==null?void 0:l.contact.id})}else(_=(f=this.activeChat)==null?void 0:f.chat)==null||_.messages.push(m);const o=this.chatsContacts.find(u=>this.activeChat?u.id===this.activeChat.contact.id:!1);o.chat.lastMessage=m}}}),Vt={class:"text-center px-6"},kt={key:1,class:"text-3xl"},wt={class:"text-h5"},Ut={class:"text-capitalize text-body-1 mb-0"},It={class:"my-6"},St={class:"mt-1 mb-6"},At={class:"mb-6"},zt={class:"d-flex align-center text-high-emphasis pa-2"},Bt={class:"d-flex align-center text-high-emphasis pa-2"},Tt={class:"d-flex align-center text-high-emphasis pa-2"},Dt={class:"d-flex align-center text-high-emphasis pa-2"},Mt={class:"d-flex align-center text-high-emphasis pa-2"},Nt={class:"d-flex align-center text-high-emphasis pa-2"},Ot={class:"d-flex align-center text-high-emphasis pa-2"},Pt={class:"d-flex align-center text-high-emphasis pa-2"},Lt={__name:"ChatActiveChatUserProfileSidebarContent",emits:["close"],setup(y,{emit:n}){const a=D(),{resolveAvatarBadgeVariant:m}=P();return(v,o)=>{const h=R("IconBtn");return t(a).activeChat?(d(),b(I,{key:0},[s("div",{class:S(["pt-6 px-6",v.$vuetify.locale.isRtl?"text-left":"text-right"])},[e(h,{onClick:o[0]||(o[0]=i=>v.$emit("close"))},{default:r(()=>[e(p,{icon:"tabler-x",class:"text-medium-emphasis"})]),_:1})],2),s("div",Vt,[e(B,{location:"bottom right","offset-x":"7","offset-y":"4",bordered:"",color:t(m)(t(a).activeChat.contact.status),class:"chat-user-profile-badge mb-5"},{default:r(()=>[e(z,{size:"84",variant:t(a).activeChat.contact.avatar?void 0:"tonal",color:t(a).activeChat.contact.avatar?void 0:t(m)(t(a).activeChat.contact.status)},{default:r(()=>[t(a).activeChat.contact.avatar?(d(),V(T,{key:0,src:t(a).activeChat.contact.avatar},null,8,["src"])):(d(),b("span",kt,g(v.avatarText(t(a).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("h5",wt,g(t(a).activeChat.contact.fullName),1),s("p",Ut,g(t(a).activeChat.contact.role),1)]),e(t(E),{class:"ps-chat-user-profile-sidebar-content text-medium-emphasis pb-6 px-6",options:{wheelPropagation:!1}},{default:r(()=>[s("div",It,[o[1]||(o[1]=s("div",{class:"text-sm text-disabled"}," ABOUT ",-1)),s("p",St,g(t(a).activeChat.contact.about),1)]),s("div",At,[o[5]||(o[5]=s("div",{class:"text-sm text-disabled mb-1"}," PERSONAL INFORMATION ",-1)),s("div",zt,[e(p,{class:"me-2",icon:"tabler-mail",size:"22"}),o[2]||(o[2]=s("div",{class:"text-base"}," lucifer@email.com ",-1))]),s("div",Bt,[e(p,{class:"me-2",icon:"tabler-phone",size:"22"}),o[3]||(o[3]=s("div",{class:"text-base"}," +1(123) 456 - 7890 ",-1))]),s("div",Tt,[e(p,{class:"me-2",icon:"tabler-clock",size:"22"}),o[4]||(o[4]=s("div",{class:"text-base"}," Mon - Fri 10AM - 8PM ",-1))])]),s("div",null,[o[12]||(o[12]=s("div",{class:"text-sm text-disabled mb-1"}," OPTIONS ",-1)),s("div",Dt,[e(p,{class:"me-2",icon:"tabler-badge",size:"22"}),o[6]||(o[6]=s("div",{class:"text-base"}," Add Tag ",-1))]),s("div",Mt,[e(p,{class:"me-2",icon:"tabler-star",size:"22"}),o[7]||(o[7]=s("div",{class:"text-base"}," Important Contact ",-1))]),s("div",Nt,[e(p,{class:"me-2",icon:"tabler-photo",size:"22"}),o[8]||(o[8]=s("div",{class:"text-base"}," Shared Media ",-1))]),s("div",Ot,[e(p,{class:"me-2",icon:"tabler-trash",size:"22"}),o[9]||(o[9]=s("div",{class:"text-base"}," Delete Contact ",-1))]),s("div",Pt,[e(p,{icon:"tabler-ban",class:"me-2",size:"22"}),o[10]||(o[10]=s("div",{class:"text-base"}," Block Contact ",-1))]),e(L,{block:"",color:"error","append-icon":"tabler-trash",class:"mt-6"},{default:r(()=>o[11]||(o[11]=[N(" Delete Contact ")])),_:1})])]),_:1})],64)):A("",!0)}}},Ft={key:1},Rt={class:"flex-grow-1 ms-4 overflow-hidden"},Et={class:"text-base text-high-emphasis mb-0"},qt={class:"mb-0 text-truncate text-body-2"},jt={key:0,class:"d-flex flex-column align-self-start"},Jt={class:"text-body-2 text-disabled whitespace-no-wrap"},G={__name:"ChatContact",props:{isChatContact:{type:Boolean,required:!1,default:!1},user:{type:null,required:!0}},setup(y){const n=y,a=D(),{resolveAvatarBadgeVariant:m}=P(),v=F(()=>{var h,i;const o=((h=a.activeChat)==null?void 0:h.contact.id)===n.user.id;return(n.isChatContact||!((i=a.activeChat)!=null&&i.chat))&&o});return(o,h)=>(d(),b("li",{key:t(a).chatsContacts.length,class:S(["chat-contact cursor-pointer d-flex align-center",{"chat-contact-active":t(v)}])},[e(B,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:t(m)(n.user.status),bordered:"","model-value":n.isChatContact},{default:r(()=>[e(z,{size:"40",variant:n.user.avatar?void 0:"tonal",color:n.user.avatar?void 0:t(m)(n.user.status)},{default:r(()=>[n.user.avatar?(d(),V(T,{key:0,src:n.user.avatar,alt:"John Doe"},null,8,["src"])):(d(),b("span",Ft,g(o.avatarText(y.user.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color","model-value"]),s("div",Rt,[s("p",Et,g(n.user.fullName),1),s("p",qt,g(n.isChatContact&&"chat"in n.user?n.user.chat.lastMessage.message:n.user.about),1)]),n.isChatContact&&"chat"in n.user?(d(),b("div",jt,[s("div",Jt,g(("formatDateToMonthShort"in o?o.formatDateToMonthShort:t(ht))(n.user.chat.lastMessage.time)),1),n.user.chat.unseenMsgs?(d(),V(B,{key:0,color:"error",inline:"",content:n.user.chat.unseenMsgs,class:"ms-auto"},null,8,["content"])):A("",!0)])):A("",!0)],2))}},Ht={key:0,class:"chat-list-header"},Kt={class:"no-chat-items-text text-disabled"},Wt={class:"no-chat-items-text text-disabled"},Xt={__name:"ChatLeftSidebarContent",props:{search:{type:String,required:!0},isDrawerOpen:{type:Boolean,required:!0}},emits:["openChatOfContact","showUserProfile","close","update:search"],setup(y,{emit:n}){const a=y,m=n,{resolveAvatarBadgeVariant:v}=P(),o=ot(a,"search",m),h=D();return(i,l)=>{const f=mt,_=R("IconBtn");return d(),b(I,null,[t(h).profileUser?(d(),b("div",Ht,[e(B,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:t(v)(t(h).profileUser.status),bordered:""},{default:r(()=>[e(z,{size:"40",class:"cursor-pointer",onClick:l[0]||(l[0]=u=>i.$emit("showUserProfile"))},{default:r(()=>[e(T,{src:t(h).profileUser.avatar,alt:"John Doe"},null,8,["src"])]),_:1})]),_:1},8,["color"]),e(f,{id:"search",modelValue:t(o),"onUpdate:modelValue":l[1]||(l[1]=u=>w(o)?o.value=u:null),placeholder:"Search...","prepend-inner-icon":"tabler-search",class:"ms-4 me-1 chat-list-search"},null,8,["modelValue"]),i.$vuetify.display.smAndDown?(d(),V(_,{key:0,onClick:l[2]||(l[2]=u=>i.$emit("close"))},{default:r(()=>[e(p,{icon:"tabler-x",class:"text-medium-emphasis"})]),_:1})):A("",!0)])):A("",!0),e(tt),e(t(E),{tag:"ul",class:"d-flex flex-column gap-y-1 chat-contacts-list px-3 py-2 list-none",options:{wheelPropagation:!1}},{default:r(()=>[l[3]||(l[3]=s("li",{class:"list-none"},[s("h5",{class:"chat-contact-header text-primary text-h5"}," Chats ")],-1)),(d(!0),b(I,null,O(t(h).chatsContacts,u=>(d(),V(G,{key:`chat-${u.id}`,user:u,"is-chat-contact":"",onClick:k=>i.$emit("openChatOfContact",u.id)},null,8,["user","onClick"]))),128)),K(s("span",Kt,"No chats found",512),[[W,!t(h).chatsContacts.length]]),l[4]||(l[4]=s("li",{class:"list-none pt-2"},[s("h5",{class:"chat-contact-header text-primary text-h5"}," Contacts ")],-1)),(d(!0),b(I,null,O(t(h).contacts,u=>(d(),V(G,{key:`chat-${u.id}`,user:u,onClick:k=>i.$emit("openChatOfContact",u.id)},null,8,["user","onClick"]))),128)),K(s("span",Wt,"No contacts found",512),[[W,!t(h).contacts.length]])]),_:1})],64)}}},Qt={class:"chat-log pa-6"},Yt={class:"mb-0 text-base"},Zt={class:"text-sm ms-2 text-disabled"},Gt={__name:"ChatLog",setup(y){const n=D(),a=F(()=>{var o,h;return{id:(o=n.activeChat)==null?void 0:o.contact.id,avatar:(h=n.activeChat)==null?void 0:h.contact.avatar}}),m=o=>o.isSeen?{icon:"tabler-checks",color:"success"}:o.isDelivered?{icon:"tabler-checks",color:void 0}:{icon:"tabler-check",color:void 0},v=F(()=>{let o=[];const h=[];if(n.activeChat.chat){o=n.activeChat.chat.messages;let i=o[0].senderId,l={senderId:i,messages:[]};o.forEach((f,_)=>{i===f.senderId?l.messages.push({message:f.message,time:f.time,feedback:f.feedback}):(i=f.senderId,h.push(l),l={senderId:f.senderId,messages:[{message:f.message,time:f.time,feedback:f.feedback}]}),_===o.length-1&&h.push(l)})}return h});return(o,h)=>(d(),b("div",Qt,[(d(!0),b(I,null,O(t(v),(i,l)=>(d(),b("div",{key:i.senderId+String(l),class:S(["chat-group d-flex align-start",[{"flex-row-reverse":i.senderId!==t(a).id,"mb-6":t(v).length-1!==l}]])},[s("div",{class:S(["chat-avatar",i.senderId!==t(a).id?"ms-4":"me-4"])},[e(z,{size:"32"},{default:r(()=>{var f;return[e(T,{src:i.senderId===t(a).id?t(a).avatar:(f=t(n).profileUser)==null?void 0:f.avatar},null,8,["src"])]}),_:2},1024)],2),s("div",{class:S(["chat-body d-inline-flex flex-column",i.senderId!==t(a).id?"align-end":"align-start"])},[(d(!0),b(I,null,O(i.messages,(f,_)=>(d(),b("div",{key:f.time,class:S(["chat-content py-2 px-4 elevation-2",[i.senderId===t(a).id?"chat-left":"bg-primary text-white chat-right",i.messages.length-1!==_?"mb-2":"mb-1"]]),style:{"background-color":"rgb(var(--v-theme-surface))"}},[s("p",Yt,g(f.message),1)],2))),128)),s("div",{class:S({"text-right":i.senderId!==t(a).id})},[i.senderId!==t(a).id?(d(),V(p,{key:0,size:"16",color:m(i.messages[i.messages.length-1].feedback).color},{default:r(()=>[N(g(m(i.messages[i.messages.length-1].feedback).icon),1)]),_:2},1032,["color"])):A("",!0),s("span",Zt,g(("formatDate"in o?o.formatDate:t(ft))(i.messages[i.messages.length-1].time,{hour:"numeric",minute:"numeric"})),1)],2)],2)],2))),128))]))}},te={class:"pt-2 me-2 text-end"},ee={class:"text-center px-6"},se={key:1,class:"text-3xl"},ae={class:"text-h5"},oe={class:"text-capitalize text-medium-emphasis mb-0"},le={class:"my-6 text-medium-emphasis"},ne={class:"mb-6"},ie={class:"text-medium-emphasis chat-settings-section"},re={class:"d-flex align-center pa-2"},ce={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},de={class:"d-flex align-center pa-2"},ue={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},me={class:"d-flex align-center pa-2"},he={class:"d-flex align-center pa-2"},fe={__name:"ChatUserProfileSidebarContent",emits:["close"],setup(y,{emit:n}){const a=D(),{resolveAvatarBadgeVariant:m}=P(),v=[{title:"Online",value:"online",color:"success"},{title:"Away",value:"away",color:"warning"},{title:"Do not disturb",value:"busy",color:"error"},{title:"Offline",value:"offline",color:"secondary"}],o=U(!0),h=U(!1);return(i,l)=>{const f=R("IconBtn"),_=pt;return t(a).profileUser?(d(),b(I,{key:0},[s("div",te,[e(f,{onClick:l[0]||(l[0]=u=>i.$emit("close"))},{default:r(()=>[e(p,{class:"text-medium-emphasis",color:"disabled",icon:"tabler-x"})]),_:1})]),s("div",ee,[e(B,{location:"bottom right","offset-x":"7","offset-y":"4",bordered:"",color:t(m)(t(a).profileUser.status),class:"chat-user-profile-badge mb-3"},{default:r(()=>[e(z,{size:"84",variant:t(a).profileUser.avatar?void 0:"tonal",color:t(a).profileUser.avatar?void 0:t(m)(t(a).profileUser.status)},{default:r(()=>[t(a).profileUser.avatar?(d(),V(T,{key:0,src:t(a).profileUser.avatar},null,8,["src"])):(d(),b("span",se,g(i.avatarText(t(a).profileUser.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("h5",ae,g(t(a).profileUser.fullName),1),s("p",oe,g(t(a).profileUser.role),1)]),e(t(E),{class:"ps-chat-user-profile-sidebar-content pb-5 px-6",options:{wheelPropagation:!1}},{default:r(()=>[s("div",le,[l[5]||(l[5]=s("div",{for:"textarea-user-about",class:"text-base text-disabled"}," ABOUT ",-1)),e(_,{id:"textarea-user-about",modelValue:t(a).profileUser.about,"onUpdate:modelValue":l[1]||(l[1]=u=>t(a).profileUser.about=u),"auto-grow":"",class:"mt-1",rows:"3"},null,8,["modelValue"])]),s("div",ne,[l[6]||(l[6]=s("div",{class:"text-base text-disabled"}," STATUS ",-1)),e(vt,{modelValue:t(a).profileUser.status,"onUpdate:modelValue":l[2]||(l[2]=u=>t(a).profileUser.status=u),class:"mt-1"},{default:r(()=>[(d(),b(I,null,O(v,(u,k)=>e(bt,{id:`${k}`,key:u.title,name:u.title,label:u.title,value:u.value,color:u.color},null,8,["id","name","label","value","color"])),64))]),_:1},8,["modelValue"])]),s("div",ie,[l[11]||(l[11]=s("div",{class:"text-base text-disabled"}," SETTINGS ",-1)),s("div",re,[e(p,{class:"me-2 text-high-emphasis",icon:"tabler-lock",size:"22"}),s("div",ce,[l[7]||(l[7]=s("div",{class:"text-body-1 text-high-emphasis"}," Two-step Verification ",-1)),e(Z,{id:"two-step-verification",modelValue:t(o),"onUpdate:modelValue":l[3]||(l[3]=u=>w(o)?o.value=u:null),density:"compact"},null,8,["modelValue"])])]),s("div",de,[e(p,{class:"me-2 text-high-emphasis",icon:"tabler-bell",size:"22"}),s("div",ue,[l[8]||(l[8]=s("div",{class:"text-body-1 text-high-emphasis"}," Notification ",-1)),e(Z,{id:"chat-notification",modelValue:t(h),"onUpdate:modelValue":l[4]||(l[4]=u=>w(h)?h.value=u:null),density:"compact"},null,8,["modelValue"])])]),s("div",me,[e(p,{class:"me-2 text-high-emphasis",icon:"tabler-user-plus",size:"22"}),l[9]||(l[9]=s("div",{class:"text-body-1 text-high-emphasis"}," Invite Friends ",-1))]),s("div",he,[e(p,{class:"me-2 text-high-emphasis",icon:"tabler-trash",size:"22"}),l[10]||(l[10]=s("div",{class:"text-body-1 text-high-emphasis"}," Delete Account ",-1))])]),e(L,{color:"primary",class:"mt-12",block:"","append-icon":"tabler-logout"},{default:r(()=>l[12]||(l[12]=[N(" Logout ")])),_:1})]),_:1})],64)):A("",!0)}}},pe={key:0,class:"d-flex flex-column h-100"},ve={class:"active-chat-header d-flex align-center text-medium-emphasis bg-surface"},be={key:1},xe={class:"flex-grow-1 ms-4 overflow-hidden"},ge={class:"text-h6 mb-0 font-weight-regular"},Ce={class:"text-truncate mb-0 text-body-2"},ye={class:"d-sm-flex align-center d-none text-medium-emphasis"},_e={class:"d-flex gap-1"},$e={class:"d-none d-md-block"},Ve={key:1,class:"d-flex h-100 align-center justify-center flex-column"},ke={key:1,style:{"max-inline-size":"40ch","text-wrap":"balance"},class:"text-center text-disabled"},ns={__name:"chat",setup(y){lt(C=>({f883b1c0:t(st)}));const n=nt(),a=D(),{isLeftSidebarOpen:m}=xt(n.smAndDown),{resolveAvatarBadgeVariant:v}=P(),o=U(),h=()=>{const C=o.value.$el||o.value;C.scrollTop=C.scrollHeight},i=U("");it(i,C=>a.fetchChatsAndContacts(C),{immediate:!0});const l=()=>{n.mdAndUp.value||(m.value=!0)},f=U(""),_=async()=>{f.value&&(await a.sendMsg(f.value),f.value="",Q(()=>{h()}))},u=async C=>{await a.getChat(C),f.value="";const c=a.chatsContacts.find($=>$.id===C);c&&(c.chat.unseenMsgs=0),n.smAndDown.value&&(m.value=!1),Q(()=>{h()})},k=U(!1),M=U(!1),j=U(),{name:et}=rt(),st=F(()=>{var c,$;let C="transparent";return X&&(C=($=(c=X)==null?void 0:c[et.value].colors)==null?void 0:$.background),C});return(C,c)=>{const $=R("IconBtn");return d(),V(Ct,{class:"chat-app-layout",style:{"z-index":"0"}},{default:r(()=>[e(q,{modelValue:t(k),"onUpdate:modelValue":c[1]||(c[1]=x=>w(k)?k.value=x:null),"data-allow-mismatch":"",temporary:"",touchless:"",absolute:"",class:"user-profile-sidebar",location:"start",width:"370"},{default:r(()=>[e(fe,{onClose:c[0]||(c[0]=x=>k.value=!1)})]),_:1},8,["modelValue"]),e(q,{modelValue:t(M),"onUpdate:modelValue":c[3]||(c[3]=x=>w(M)?M.value=x:null),"data-allow-mismatch":"",width:"374",absolute:"",temporary:"",location:"end",touchless:"",class:"active-chat-user-profile-sidebar"},{default:r(()=>[e(Lt,{onClose:c[2]||(c[2]=x=>M.value=!1)})]),_:1},8,["modelValue"]),e(q,{modelValue:t(m),"onUpdate:modelValue":c[8]||(c[8]=x=>w(m)?m.value=x:null),"data-allow-mismatch":"",absolute:"",touchless:"",location:"start",width:"370",temporary:C.$vuetify.display.smAndDown,class:"chat-list-sidebar",permanent:C.$vuetify.display.mdAndUp},{default:r(()=>[e(Xt,{"is-drawer-open":t(m),"onUpdate:isDrawerOpen":c[4]||(c[4]=x=>w(m)?m.value=x:null),search:t(i),"onUpdate:search":c[5]||(c[5]=x=>w(i)?i.value=x:null),onOpenChatOfContact:u,onShowUserProfile:c[6]||(c[6]=x=>k.value=!0),onClose:c[7]||(c[7]=x=>m.value=!1)},null,8,["is-drawer-open","search"])]),_:1},8,["modelValue","temporary","permanent"]),e(gt,{class:"chat-content-container"},{default:r(()=>[t(a).activeChat?(d(),b("div",pe,[s("div",ve,[e($,{class:"d-md-none me-3",onClick:c[9]||(c[9]=x=>m.value=!0)},{default:r(()=>[e(p,{icon:"tabler-menu-2"})]),_:1}),s("div",{class:"d-flex align-center cursor-pointer",onClick:c[10]||(c[10]=x=>M.value=!0)},[e(B,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:t(v)(t(a).activeChat.contact.status),bordered:""},{default:r(()=>[e(z,{size:"40",variant:t(a).activeChat.contact.avatar?void 0:"tonal",color:t(a).activeChat.contact.avatar?void 0:t(v)(t(a).activeChat.contact.status),class:"cursor-pointer"},{default:r(()=>[t(a).activeChat.contact.avatar?(d(),V(T,{key:0,src:t(a).activeChat.contact.avatar,alt:t(a).activeChat.contact.fullName},null,8,["src","alt"])):(d(),b("span",be,g(C.avatarText(t(a).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("div",xe,[s("div",ge,g(t(a).activeChat.contact.fullName),1),s("p",Ce,g(t(a).activeChat.contact.role),1)])]),e(yt),s("div",ye,[e($,null,{default:r(()=>[e(p,{icon:"tabler-phone"})]),_:1}),e($,null,{default:r(()=>[e(p,{icon:"tabler-video"})]),_:1}),e($,null,{default:r(()=>[e(p,{icon:"tabler-search"})]),_:1}),e($,null,{default:r(()=>[e(p,{icon:"tabler-dots-vertical"})]),_:1})])]),e(tt),e(t(E),{ref_key:"chatLogPS",ref:o,tag:"ul",options:{wheelPropagation:!1},class:"flex-grow-1"},{default:r(()=>[e(Gt)]),_:1},512),e(_t,{class:"chat-log-message-form mb-5 mx-5",onSubmit:ct(_,["prevent"])},{default:r(()=>{var x;return[(d(),V($t,{key:(x=t(a).activeChat)==null?void 0:x.contact.id,modelValue:t(f),"onUpdate:modelValue":c[12]||(c[12]=J=>w(f)?f.value=J:null),variant:"solo",density:"default",class:"chat-message-input",placeholder:"Type your message...",autofocus:""},{"append-inner":r(()=>[s("div",_e,[e($,null,{default:r(()=>[e(p,{icon:"tabler-microphone",size:"22"})]),_:1}),e($,{onClick:c[11]||(c[11]=J=>{var H;return(H=t(j))==null?void 0:H.click()})},{default:r(()=>[e(p,{icon:"tabler-paperclip",size:"22"})]),_:1}),s("div",$e,[e(L,{"append-icon":"tabler-send",onClick:_},{default:r(()=>c[13]||(c[13]=[N(" Send ")])),_:1})]),e($,{class:"d-block d-md-none",onClick:_},{default:r(()=>[e(p,{icon:"tabler-send"})]),_:1})])]),_:1},8,["modelValue"])),s("input",{ref_key:"refInputEl",ref:j,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:""},null,512)]}),_:1})])):(d(),b("div",Ve,[e(z,{size:"98",variant:"tonal",color:"primary",class:"mb-4"},{default:r(()=>[e(p,{size:"50",class:"rounded-0",icon:"tabler-message-2"})]),_:1}),C.$vuetify.display.smAndDown?(d(),V(L,{key:0,rounded:"pill",onClick:l},{default:r(()=>c[14]||(c[14]=[N(" Start Conversation ")])),_:1})):(d(),b("p",ke," Start connecting with the people by selecting one of the contact on left "))]))]),_:1})]),_:1})}}};export{ns as default};
